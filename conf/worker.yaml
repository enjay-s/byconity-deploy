cnch_type: worker
cnch_config: /data1/songenjie001/deploy/byconity/config/cnch-config.yaml

exchange_port: 58410
exchange_status_port: 58510
http_port: 58123
rpc_port: 58124
tcp_port: 58000

listen_host:
  - '::'

listen_try: 1
logger:
  console: true
  count: 50
  errorlog: /data1/songenjie001/deploy/byconity/logs/worker_default.err.log
  level: trace
  log: /data1/songenjie001/deploy/byconity/logs/worker_default.log
  size: 5000M
  testlog: /data1/songenjie001/deploy/byconity/logs/worker_default.test.log

format_schema_path: /data1/songenjie001/deploy/byconity/worker_default/format_schemas/
tmp_path: /data1/songenjie001/deploy/byconity/worker_default/tmp
path: /data1/songenjie001/deploy/byconity/worker_default/

cnch_kafka_log:
  database: cnch_system
  flush_interval_milliseconds: 60000
  flush_max_row_count: 100000
  table: cnch_kafka_log

dictionaries_config: '/data1/songenjie001/deploy/byconity/config/*_dictionary.xml'

mark_cache_size: 5368709120
#disk_cache_strategies:
#  simple:
#    lru_max_size: 6729600

merge_selector: dance

plan_segment_log:
  database: system
  flush_interval_milliseconds: 15000
  partition_by: event_date
  table: plan_segment_log

prometheus:
  asynchronous_metrics: true
  endpoint: /metrics
  events: true
  metrics: true
  part_metrics: false
  port: 0

query_log:
  database: system
  flush_interval_milliseconds: 15000
  partition_by: event_date
  table: query_log



service_discovery:
  cluster: default
  mode: dns
  daemon_manager:
    headless_service: byconity-daemon-manager-headless
    psm: byconity-daemon-manager
    service: byconity-daemon-manager
  resource_manager:
    headless_service: byconity-resource-manager-headless
    psm: byconity-resource-manager
    service: byconity-resource-manager
  server:
    headless_service: byconity-server-headless
    psm: byconity-server
    service: byconity-server
  tso:
    headless_service: byconity-tso-headless
    psm: byconity-tso
    service: byconity-tso
  vw: {}

storage_configuration:
  cnch_default_policy: default
  disks:
    server_hdfs_disk:
      path: /worker_default
      type: hdfs
      hdfs_params:
        hdfs_user: root
        hdfs_addr: hdfs://127.0.0.1:8020/
    server_local_disk: 
      path: /data1/songenjie001/deploy/byconity/worker_default/data
      type: local
  policies:
    default:
      volumes:
        local:
          default: server_local_disk
          disk: server_local_disk
          #default: server_hdfs_disk
          #disk: server_hdfs_disk

users_config: /data1/songenjie001/deploy/byconity/config/users.yaml
