<?xml version="1.0"?>
<yandex>
    <logger>
        <level>trace</level>
        <log>/data/byconity/log/dm.log</log>
        <errorlog>/data/byconity/log/dm.err.log</errorlog>
        <size>1000M</size>
        <count>10</count>
    </logger>

    <path>/data/byconity/data/</path>
    <cnch_data_retention_time_in_sec>5</cnch_data_retention_time_in_sec>
    <background_schedule_pool_size>30</background_schedule_pool_size>

    <daemon_manager>
        <port>9920</port>
        <daemon_jobs>
            <job>
                <name>PART_GC</name>
                <interval>10000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>PART_MERGE</name>
                <interval>10000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>CONSUMER</name>
                <interval>10000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>DEDUP_WORKER</name>
                <interval>10000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>PART_CLUSTERING</name>
                <interval>10000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>GLOBAL_GC</name>
                <interval>5000</interval>
                <disable>false</disable>
            </job>
            <job>
                <name>TXN_GC</name>
                <interval>600000</interval>
                <disable>false</disable>
            </job>
        </daemon_jobs>
    </daemon_manager>

    <storage_configuration>
        <cnch_default_policy>cnch_default_hdfs</cnch_default_policy>
        <disks>
            <server_hdfs_prod>
                <path>/var/byconity/data/</path>
                <type>hdfs</type>
                <hdfs_params>
                </hdfs_params>
            </server_hdfs_prod>
            <server_hdfs_disk>
                <path>/var/byconity/data/</path>
                <type>hdfs</type>
                <hdfs_user>root</hdfs_user>
                <hdfs_addr>hdfs://namenode:8020</hdfs_addr>
                <hdfs_params>
                    <hdfs_user>root</hdfs_user>
                    <hdfs_addr>hdfs://namenode:8020</hdfs_addr>
                    <hdfs3_config>/etc/byconity/config/hdfs-site.xml</hdfs3_config>
                </hdfs_params>
            </server_hdfs_disk>
            <server_local_0>
                <path>/data/byconity/data/0/</path>
            </server_local_0>
            </server_hdfs_prod>
        </disks>
        <policies>
            <default>
                <volumes>
                    <local>
                        <default>server_local_0</default>
                        <disk>server_local_0</disk>
                    </local>
                </volumes>
            </default>
            <cnch_default_hdfs>
                <volumes>
                    <hdfs>
                        <default>server_hdfs_disk</default>
                        <disk>server_hdfs_disk</disk>
                    </hdfs>
                </volumes>
            </cnch_default_hdfs>
            <cnch_hdfs_prod>
                <volumes>
                    <hdfs>
                        <default>server_hdfs_prod</default>
                        <disk>server_hdfs_prod</disk>
                    </hdfs>
                </volumes>
            </cnch_hdfs_prod>
        </policies>
    </storage_configuration>
    <cnch_config>/etc/byconity/config/cnch_config.xml</cnch_config>
</yandex>
