<?xml version="1.0"?>
<yandex>
    <service_discovery>
        <mode>local</mode>
        <cluster>default</cluster>
        <disable_cache>false</disable_cache>
        <cache_timeout>5</cache_timeout>
        <vw_psm>data.cnch.vw_default</vw_psm>
        <server>
            <psm>data.cnch.server</psm>
            <service>cnch-server</service>
            <headless_service>cnch-server-headless</headless_service>
            <node>
                <host>k8s-node1</host>
                <hostname>k8s-node1</hostname>
                <ports>
                    <port>
                        <!--HTTP-->
                        <name>PORT2</name>
                        <value>8123</value>
                    </port>
                    <port>
                        <!--RPC-->
                        <name>PORT1</name>
                        <value>8124</value>
                    </port>
                    <port>
                        <!--TCP/Primary-->
                        <name>PORT0</name>
                        <value>9000</value>
                    </port>
                    <port>
                        <!--Exchange Stream Port-->
                        <name>PORT5</name>
                        <value>9300</value>
                    </port>
                    <port>
                        <!--Exchange Status Port-->
                        <name>PORT6</name>
                        <value>9400</value>
                    </port>
                </ports>
            </node>
            <node>
                <host>k8s-node2</host>
                <hostname>k8s-node2</hostname>
                <ports>
                    <port>
                        <!--HTTP-->
                        <name>PORT2</name>
                        <value>8123</value>
                    </port>
                    <port>
                        <!--RPC-->
                        <name>PORT1</name>
                        <value>8124</value>
                    </port>
                    <port>
                        <!--TCP/Primary-->
                        <name>PORT0</name>
                        <value>9000</value>
                    </port>
                    <port>
                        <!--Exchange Stream Port-->
                        <name>PORT5</name>
                        <value>9300</value>
                    </port>
                    <port>
                        <!--Exchange Status Port-->
                        <name>PORT6</name>
                        <value>9400</value>
                    </port>
                </ports>
            </node>
            <node>
                <host>k8s-node3</host>
                <hostname>k8s-node3</hostname>
                <ports>
                    <port>
                        <!--HTTP-->
                        <name>PORT2</name>
                        <value>8123</value>
                    </port>
                    <port>
                        <!--RPC-->
                        <name>PORT1</name>
                        <value>8124</value>
                    </port>
                    <port>
                        <!--TCP/Primary-->
                        <name>PORT0</name>
                        <value>9000</value>
                    </port>
                    <port>
                        <!--Exchange Stream Port-->
                        <name>PORT5</name>
                        <value>9300</value>
                    </port>
                    <port>
                        <!--Exchange Status Port-->
                        <name>PORT6</name>
                        <value>9400</value>
                    </port>
                </ports>
            </node>
        </server>
        <tso>
            <psm>data.cnch.tso</psm>
            <service>cnch-tso</service>
            <headless_service>cnch-tso-headless</headless_service>
            <node>
                <host>k8s-node1</host>
                <hostname>k8s-node1</hostname>
                <ports>
                    <port>
                        <name>PORT0</name>
                        <value>9910</value>
                    </port>
                </ports>
            </node>
            <node>
                <host>k8s-node2</host>
                <hostname>k8s-node2</hostname>
                <ports>
                    <port>
                        <name>PORT0</name>
                        <value>9910</value>
                    </port>
                </ports>
            </node>
            <node>
                <host>k8s-node3</host>
                <hostname>k8s-node3</hostname>
                <ports>
                    <port>
                        <name>PORT0</name>
                        <value>9910</value>
                    </port>
                </ports>
            </node>
        </tso>
        <daemon_manager>
            <psm>data.cnch.daemon_manager</psm>
            <service>cnch-daemonmanager</service>
            <headless_service>cnch-daemonmanager-headless</headless_service>
            <node>
                <host>k8s-node1</host>
                <hostname>k8s-node1</hostname>
                <ports>
                    <port>
                        <!--RPC-->
                        <name>PORT0</name>
                        <value>9920</value>
                    </port>
                </ports>
            </node>
        </daemon_manager>
        <resource_manager>
            <psm>data.cnch.resource_manager</psm>
            <service>cnch-resourcemanager</service>
            <headless_service>cnch-resourcemanager-headless</headless_service>
            <!-- For local test -->
            <node>
                <host>k8s-node2</host>
                <hostname>k8s-node2</hostname>
                <ports>
                    <!-- RPC/Primary -->
                    <port>
                        <name>PORT0</name>
                        <value>9925</value>
                    </port>
                </ports>
            </node>
            <node>
                <host>k8s-node3</host>
                <hostname>k8s-node3</hostname>
                <ports>
                    <!-- RPC/Primary -->
                    <port>
                        <name>PORT0</name>
                        <value>9925</value>
                    </port>
                </ports>
            </node>
        </resource_manager>
    </service_discovery>
    <catalog>
        <name_space>byconity</name_space>
    </catalog>
    <catalog_service>
        <type>fdb</type>
        <fdb>
            <cluster_file>/etc/byconity/config/fdb.cluster</cluster_file>
        </fdb>
    </catalog_service>
    <hdfs_user>hdfs_user</hdfs_user>
    <hdfs_ha_nameservice>hdfs_ha_nameservice</hdfs_ha_nameservice>
    <hadoop_kerberos_keytab>hadoop_kerberos_keytab</hadoop_kerberos_keytab>
    <hadoop_kerberos_principal>hadoop_kerberos_principal</hadoop_kerberos_principal>
    <hadoop_security_authentication>KERBEROS</hadoop_security_authentication>
    <hdfs3_config>/etc/byconity/config/hdfs-site.xml</hdfs3_config>
</yandex>
